"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.IdManagerFactory = void 0;
const cheIdProvider_1 = require("./cloud/cheIdProvider");
const gitpodIdProvider_1 = require("./cloud/gitpodIdProvider");
const fileSystemIdManager_1 = require("./fileSystemIdManager");
const envVar_1 = __importDefault(require("../common/envVar"));
var IdManagerFactory;
(function (IdManagerFactory) {
    function getIdManager() {
        const fsIdManager = new fileSystemIdManager_1.FileSystemIdProvider();
        if (envVar_1.default['CHE_WORKSPACE_ID']) {
            return new cheIdProvider_1.CheIdProvider(fsIdManager);
        }
        else if (envVar_1.default['GITPOD_GIT_USER_EMAIL']) {
            return new gitpodIdProvider_1.GitpodIdProvider(fsIdManager);
        }
        return fsIdManager;
    }
    IdManagerFactory.getIdManager = getIdManager;
})(IdManagerFactory || (exports.IdManagerFactory = IdManagerFactory = {}));
//# sourceMappingURL=idManagerFactory.js.map