<html>
	<head>
		<link href='style/main.css' rel='stylesheet' type='text/css'>

	</head>
	<body>
		<div id="wrapper" width="800" height"600">
	HEARTLINE<br/>
        <canvas id="gamecanvas" width="800" height="512"></canvas><br/>
        <a id="click" href="#">Full Screen</a>
    </div>
	<br/>
	<br/>
		<script src='js/jquery.min.js'></script>
		<script src='js/soundmanager2-nodebug-jsmin.js'></script>
		<script src='js/room.js'></script>
		<script src='js/entitymanager.js'></script>
		<script src='js/entity.js'></script>
			<script src='js/player.js'></script>
			<script src='js/goo.js'></script>
			<script src='js/door.js'></script>
			<script src='js/heart.js'></script>
			<script src='js/fire.js'></script>
			<script src='js/smoke.js'></script>
			<script src='js/grate.js'></script>
			<script src='js/fan.js'></script>
			<script src='js/breakable.js'></script>
			<script src='js/goal.js'></script>
			<script src='js/controller.js'></script>
			
			<script src='js/assetmanager.js'></script>
		
		<script src='js/game.js'></script>
			<script src='js/images.js'></script>
			<script src='js/sounds.js'></script>
			<script src='js/levels.js'></script>

		<script>
		var div = document.getElementById("wrapper");
		var link = document.getElementById("click");
		function fs()
		{
			console.log("fs")
			if (document.webkitIsFullScreen)
				document.webkitExitFullscreen()
			else
				div.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT);
		}

		link.onclick = fs;

		var canvas = document.getElementById("gamecanvas");
		var defaultHeight =  canvas.height;
		var defaultWidth = canvas.width;

		var ctx = canvas.getContext("2d");

		window.onresize = function() {
			console.log("resize");
			var newHeight = window.innerHeight - 150;
			var newWidth = window.innerWidth - 10;
			console.log(newHeight, newWidth)
			if (1.0 * defaultWidth / defaultHeight > 1.0 * newWidth / newHeight)
				newHeight = 1.0 * newWidth / defaultWidth * defaultHeight
			else
				newWidth = 1.0 * newHeight / defaultHeight * defaultWidth;
			canvas.height = newHeight;
			canvas.width = newWidth;
			ctx.scale(1.0 * newWidth/defaultWidth, 1.0 * newHeight/defaultHeight)
		}

		window.onresize();

		//div.mozRequestFullScreen();
		</script>

	</body>
</html>
